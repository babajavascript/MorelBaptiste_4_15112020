/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(ae){"use strict";function i(e,f){function t(e){if(!(!0===B.data(Ae+"_intouch")||0<ae(e.target).closest(f.excludedElements,B).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=f.fallbackToMouseEvents){var n,i=t.touches,r=i?i[0]:t;return J=Oe,i?K=i.length:!1!==f.preventDefaultEvents&&e.preventDefault(),G=F=C=null,W=1,z=V=Y=X=Q=0,(l={})[ue]=L(ue),l[se]=L(se),l[ce]=L(ce),l[pe]=L(pe),Z=l,x(),M(0,r),!i||K===f.fingers||f.fingers===xe||v()?(ee=I(),2==K&&(M(1,i[1]),Y=V=k($[0].start,$[1].start)),(f.swipeStatus||f.pinchStatus)&&(n=w(t,J))):n=!1,!1===n?(w(t,J=Pe),n):(f.hold&&(oe=setTimeout(ae.proxy(function(){B.trigger("hold",[t.target]),f.hold&&(n=f.hold.call(B,t,t.target))},this),f.longTapThreshold)),O(!0),null)}}var l}function n(e){var t,n,i,r,l,o,a,u,s,c,p,h,d=e.originalEvent?e.originalEvent:e;J===De||J===Pe||S()||(a=D((o=d.touches)?o[0]:d),te=I(),o&&(K=o.length),f.hold&&clearTimeout(oe),J=Me,2==K&&(0==Y?(M(1,o[1]),Y=V=k($[0].start,$[1].start)):(D(o[1]),V=k($[0].end,$[1].end),$[0].end,$[1].end,G=W<1?de:he),W=(V/Y*1).toFixed(2),z=Math.abs(Y-V)),K===f.fingers||f.fingers===xe||!o||v()?(C=A(a.start,a.end),function(e,t){if(!1!==f.preventDefaultEvents)if(f.allowPageScroll===fe)e.preventDefault();else{var n=f.allowPageScroll===ge;switch(t){case ue:(f.swipeLeft&&n||!n&&f.allowPageScroll!=Ee)&&e.preventDefault();break;case se:(f.swipeRight&&n||!n&&f.allowPageScroll!=Ee)&&e.preventDefault();break;case ce:(f.swipeUp&&n||!n&&f.allowPageScroll!=me)&&e.preventDefault();break;case pe:(f.swipeDown&&n||!n&&f.allowPageScroll!=me)&&e.preventDefault()}}}(e,F=A(a.last,a.end)),i=a.start,r=a.end,Q=Math.round(Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2))),X=R(),h=Q,(p=C)!=fe&&(h=Math.max(h,P(p)),Z[p].distance=h),l=w(d,J),f.triggerOnTouchEnd&&!f.triggerOnTouchLeave||(s=!0,f.triggerOnTouchLeave&&(u={left:(n=(t=ae(t=this)).offset()).left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()},s=(c=a.end).x>u.left&&c.x<u.right&&c.y>u.top&&c.y<u.bottom),!f.triggerOnTouchEnd&&s?J=g(Me):f.triggerOnTouchLeave&&!s&&(J=g(De)),J!=Pe&&J!=De||w(d,J))):w(d,J=Pe),!1===l&&w(d,J=Pe))}function i(e){var t,n=e.originalEvent?e.originalEvent:e,i=n.touches;if(i){if(i.length&&!S())return t=n,ne=I(),ie=t.touches.length+1,!0;if(i.length&&S())return!0}return S()&&(K=ie),te=I(),X=R(),s()||!u()?w(n,J=Pe):f.triggerOnTouchEnd||!1===f.triggerOnTouchEnd&&J===Me?(!1!==f.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),w(n,J=De)):!f.triggerOnTouchEnd&&y()?a(n,J=De,Te):J===Me&&w(n,J=Pe),O(!1),null}function r(){V=Y=ee=te=K=0,x(),O(!(W=1))}function l(e){var t=e.originalEvent?e.originalEvent:e;f.triggerOnTouchLeave&&w(t,J=g(De))}function o(){B.unbind(j,t),B.unbind(q,r),B.unbind(N,n),B.unbind(H,i),_&&B.unbind(_,l),O(!1)}function g(e){var t=e,n=c(),i=u(),r=s();return!n||r?t=Pe:!i||e!=Me||f.triggerOnTouchEnd&&!f.triggerOnTouchLeave?!i&&e==De&&f.triggerOnTouchLeave&&(t=Pe):t=De,t}function w(e,t){var n,i=e.touches;return(h()&&d()||d())&&(n=a(e,t,we)),(p()&&v()||v())&&!1!==n&&(n=a(e,t,ve)),m()&&E()&&!1!==n?n=a(e,t,be):X>f.longTapThreshold&&Q<Se&&f.longTap&&!1!==n?n=a(e,t,ye):1!==K&&Le||!(isNaN(Q)||Q<f.threshold)||!y()||!1===n||(n=a(e,t,Te)),t===Pe&&r(),t===De&&(i&&i.length||r()),n}function a(e,t,n){var i;if(n==we){if(B.trigger("swipeStatus",[t,C||null,Q||0,X||0,K,$,F]),f.swipeStatus&&!1===(i=f.swipeStatus.call(B,e,t,C||null,Q||0,X||0,K,$,F)))return!1;if(t==De&&h()){if(clearTimeout(le),clearTimeout(oe),B.trigger("swipe",[C,Q,X,K,$,F]),f.swipe&&!1===(i=f.swipe.call(B,e,C,Q,X,K,$,F)))return!1;switch(C){case ue:B.trigger("swipeLeft",[C,Q,X,K,$,F]),f.swipeLeft&&(i=f.swipeLeft.call(B,e,C,Q,X,K,$,F));break;case se:B.trigger("swipeRight",[C,Q,X,K,$,F]),f.swipeRight&&(i=f.swipeRight.call(B,e,C,Q,X,K,$,F));break;case ce:B.trigger("swipeUp",[C,Q,X,K,$,F]),f.swipeUp&&(i=f.swipeUp.call(B,e,C,Q,X,K,$,F));break;case pe:B.trigger("swipeDown",[C,Q,X,K,$,F]),f.swipeDown&&(i=f.swipeDown.call(B,e,C,Q,X,K,$,F))}}}if(n==ve){if(B.trigger("pinchStatus",[t,G||null,z||0,X||0,K,W,$]),f.pinchStatus&&!1===(i=f.pinchStatus.call(B,e,t,G||null,z||0,X||0,K,W,$)))return!1;if(t==De&&p())switch(G){case he:B.trigger("pinchIn",[G||null,z||0,X||0,K,W,$]),f.pinchIn&&(i=f.pinchIn.call(B,e,G||null,z||0,X||0,K,W,$));break;case de:B.trigger("pinchOut",[G||null,z||0,X||0,K,W,$]),f.pinchOut&&(i=f.pinchOut.call(B,e,G||null,z||0,X||0,K,W,$))}}return n==Te?t!==Pe&&t!==De||(clearTimeout(le),clearTimeout(oe),E()&&!m()?(re=I(),le=setTimeout(ae.proxy(function(){re=null,B.trigger("tap",[e.target]),f.tap&&(i=f.tap.call(B,e,e.target))},this),f.doubleTapThreshold)):(re=null,B.trigger("tap",[e.target]),f.tap&&(i=f.tap.call(B,e,e.target)))):n==be?t!==Pe&&t!==De||(clearTimeout(le),clearTimeout(oe),re=null,B.trigger("doubletap",[e.target]),f.doubleTap&&(i=f.doubleTap.call(B,e,e.target))):n==ye&&(t!==Pe&&t!==De||(clearTimeout(le),re=null,B.trigger("longtap",[e.target]),f.longTap&&(i=f.longTap.call(B,e,e.target)))),i}function u(){var e=!0;return null!==f.threshold&&(e=Q>=f.threshold),e}function s(){var e=!1;return null!==f.cancelThreshold&&null!==C&&(e=P(C)-Q>=f.cancelThreshold),e}function c(){return!(f.maxTimeThreshold&&X>=f.maxTimeThreshold)}function p(){var e=T(),t=b(),n=null===f.pinchThreshold||z>=f.pinchThreshold;return e&&t&&n}function v(){return f.pinchStatus||f.pinchIn||f.pinchOut}function h(){var e=c(),t=u(),n=T(),i=b();return!s()&&i&&n&&t&&e}function d(){return f.swipe||f.swipeStatus||f.swipeLeft||f.swipeRight||f.swipeUp||f.swipeDown}function T(){return K===f.fingers||f.fingers===xe||!Le}function b(){return 0!==$[0].end.x}function y(){return f.tap}function E(){return!!f.doubleTap}function m(){if(null!=re){var e=I();return E()&&e-re<=f.doubleTapThreshold}}function x(){ie=ne=0}function S(){var e=!1;return ne&&I()-ne<=f.fingerReleaseThreshold&&(e=!0),e}function O(e){B&&(!0===e?(B.bind(N,n),B.bind(H,i),_&&B.bind(_,l)):(B.unbind(N,n,!1),B.unbind(H,i,!1),_&&B.unbind(_,l,!1)),B.data(Ae+"_intouch",!0===e))}function M(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,$[e]=n}function D(e){var t=void 0!==e.identifier?e.identifier:0,n=$[t]||null;return null===n&&(n=M(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function P(e){if(Z[e])return Z[e].distance}function L(e){return{direction:e,distance:0}}function R(){return te-ee}function k(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function A(e,t){if(e.x==t.x&&e.y==t.y)return fe;var n,i,r,l,o=(n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),(l=Math.round(180*r/Math.PI))<0&&(l=360-Math.abs(l)),l);return o<=45&&0<=o||o<=360&&315<=o?ue:135<=o&&o<=225?se:45<o&&o<135?pe:ce}function I(){return(new Date).getTime()}f=ae.extend({},f);var U=Le||ke||!f.fallbackToMouseEvents,j=U?ke?Re?"MSPointerDown":"pointerdown":"touchstart":"mousedown",N=U?ke?Re?"MSPointerMove":"pointermove":"touchmove":"mousemove",H=U?ke?Re?"MSPointerUp":"pointerup":"touchend":"mouseup",_=!U||ke?"mouseleave":null,q=ke?Re?"MSPointerCancel":"pointercancel":"touchcancel",Q=0,C=null,F=null,X=0,Y=0,V=0,W=1,z=0,G=0,Z=null,B=ae(e),J="start",K=0,$={},ee=0,te=0,ne=0,ie=0,re=0,le=null,oe=null;try{B.bind(j,t),B.bind(q,r)}catch(e){ae.error("events not supported "+j+","+q+" on jQuery.swipe")}this.enable=function(){return this.disable(),B.bind(j,t),B.bind(q,r),B},this.disable=function(){return o(),B},this.destroy=function(){o(),B.data(Ae,null),B=null},this.option=function(e,t){if("object"==typeof e)f=ae.extend(f,e);else if(void 0!==f[e]){if(void 0===t)return f[e];f[e]=t}else{if(!e)return f;ae.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var ue="left",se="right",ce="up",pe="down",he="in",de="out",fe="none",ge="auto",we="swipe",ve="pinch",Te="tap",be="doubletap",ye="longtap",Ee="horizontal",me="vertical",xe="all",Se=10,Oe="start",Me="move",De="end",Pe="cancel",Le="ontouchstart"in window,Re=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Le,ke=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Le,Ae="TouchSwipe";ae.fn.swipe=function(e){var t=ae(this),n=t.data(Ae);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof e)n.option.apply(n,arguments);else if(!(n||"object"!=typeof e&&e))return function(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=fe),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n=n||{},n=ae.extend({},ae.fn.swipe.defaults,n),this.each(function(){var e=ae(this),t=e.data(Ae);t||(t=new i(this,n),e.data(Ae,t))})}.apply(this,arguments);return t},ae.fn.swipe.version="1.6.18",ae.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},ae.fn.swipe.phases={PHASE_START:Oe,PHASE_MOVE:Me,PHASE_END:De,PHASE_CANCEL:Pe},ae.fn.swipe.directions={LEFT:ue,RIGHT:se,UP:ce,DOWN:pe,IN:he,OUT:de},ae.fn.swipe.pageScroll={NONE:fe,HORIZONTAL:Ee,VERTICAL:me,AUTO:ge},ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:xe}});